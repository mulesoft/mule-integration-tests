<?xml version="1.0" encoding="UTF-8"?>
<mule
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns="http://www.mulesoft.org/schema/mule/core"
       xsi:schemaLocation="
       http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd">

    <global-property name="doCompression" value="true"/>
    <global-property name="beanProperty1" value="this was set from the manager properties!"/>
    <global-property name="OS_Version" value="${os.version}"/>

    <configuration defaultResponseTimeout="10" defaultTransactionTimeout="20" shutdownTimeout="30"/>

    <custom-transformer name="TestCompressionTransformer"
                             class="org.mule.tck.testmodels.mule.TestCompressionTransformer"
                             returnClass="java.lang.String">
        <property key="beanProperty1" value="${beanProperty1}"/>
        <property key="beanProperty2" value="12"/>
        <property key="containerProperty" value="a string"/>
    </custom-transformer>

    <interceptor-stack name="testInterceptorStack">
        <logging-interceptor/>
        <timer-interceptor/>
        <custom-interceptor class="org.mule.runtime.core.interceptor.LoggingInterceptor"/>
    </interceptor-stack>

    <!-- MULE-3932 Ensure interceptors can be used with shortcut component config -->
    <flow name="MULE3932Service">
        <component class="org.mule.tck.testmodels.fruit.Apple">
            <logging-interceptor/>
        </component>
    </flow>

    <flow name="appleComponent">
        <component>
            <spring-object bean="apple"/>
        </component>
    </flow>
</mule>
